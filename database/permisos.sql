SET FOREIGN_KEY_CHECKS=0;
CREATE TABLE IF NOT EXISTS `model_has_permissions` (
  `permission_id` bigint(20) unsigned NOT NULL,
  `model_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `model_id` bigint(20) unsigned NOT NULL,
  PRIMARY KEY (`permission_id`,`model_id`,`model_type`),
  KEY `model_has_permissions_model_id_model_type_index` (`model_id`,`model_type`),
  CONSTRAINT `model_has_permissions_permission_id_foreign` FOREIGN KEY (`permission_id`) REFERENCES `permissions` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;



DELETE FROM `model_has_permissions`;


CREATE TABLE IF NOT EXISTS `model_has_roles` (
  `role_id` bigint(20) unsigned NOT NULL,
  `model_type` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `model_id` bigint(20) unsigned NOT NULL,
  PRIMARY KEY (`role_id`,`model_id`,`model_type`),
  KEY `model_has_roles_model_id_model_type_index` (`model_id`,`model_type`),
  CONSTRAINT `model_has_roles_role_id_foreign` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

DELETE FROM `model_has_roles`;

INSERT INTO `model_has_roles` (`role_id`, `model_type`, `model_id`) VALUES
	(1, 'App\\Models\\User', 1),
	(1, 'App\\Models\\User', 2),
	(2, 'App\\Models\\User', 3);

CREATE TABLE IF NOT EXISTS `permissions` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `description` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `guard_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `permissions_name_guard_name_unique` (`name`,`guard_name`)
) ENGINE=InnoDB AUTO_INCREMENT=43 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DELETE FROM `permissions`;

INSERT INTO `permissions` (`id`, `name`, `description`, `guard_name`, `created_at`, `updated_at`) VALUES
	(1, 'caja.aperturar', 'Aperturar Caja', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(2, 'caja.select', 'Seleccionar Caja', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(3, 'caja.selected', 'Caja Seleccionada', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(4, 'caja.ordenes', 'Ver Ordenes', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(5, 'venta.rapida', 'Venta Rapida', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(6, 'venta.mesas', 'Venta en Mesas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(7, 'venta.delivery', 'Venta Delivery', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(8, 'venta.cambios', 'Cambios Orden', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(9, 'categoria.index', 'Ver Categorias', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(10, 'opcion.index', 'Ver Opciones', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(11, 'producto.index', 'Ver Productos', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(12, 'producto.create', 'Ver Productos', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(13, 'corte.index', 'Realizar Corte', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(14, 'efectivo.cuentas', 'Cuentas Bancarias', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(15, 'efectivo.categorias', 'Categoria Gastos', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(16, 'efectivo.remesas', 'Remesas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(17, 'efectivo.gastos', 'Gastos', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(18, 'efectivo.ingreso', 'Ingresar Efectivo', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(19, 'efectivo.transacciones', 'Lista de Transacciones', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(20, 'historial.reporte', 'Reporte Diario', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(21, 'historial.ventas', 'Historial de Ventas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(22, 'historial.gastos', 'Historial Gastos', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(23, 'historial.cortes', 'Historial Cortes', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(24, 'historial.meseros', 'Venta Meseros', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(25, 'historial.ordenes', 'Historial Ordenes', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(26, 'historial.eliminadas', 'Ordenes Eliminadas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(27, 'panel.control', 'Panel de Control', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(28, 'panel.ordenes', 'Ordenes Diarias', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(29, 'directorio.clientes', 'Lista de Clientes', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(30, 'directorio.proveedores', 'Lista Proveedores', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(31, 'directorio.repartidores', 'Lista Repartidores', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(32, 'config.usuarios', 'Editar Usuarios', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(33, 'config.configuracion', 'Configuraciones', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(34, 'config.opciones', 'Opciones', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(35, 'search', 'Busqueda de Facturas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(36, 'cuentas.pendientes', 'Cuentas Pendientes', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(37, 'facturacion.emitidas', 'Facturas Emitidas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(38, 'facturacion.ultimas', 'Ultimas Facturas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(39, 'comandero.mesas', 'App Mesas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(40, 'comandero.inicio', 'App Agregar', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(41, 'comandero.cambios', 'App Cambios', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(42, 'roles.index', 'Roles y Permisos', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(43, 'historial.remesas', 'Historial de Remesas', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43');

CREATE TABLE IF NOT EXISTS `roles` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `guard_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `roles_name_guard_name_unique` (`name`,`guard_name`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DELETE FROM `roles`;

INSERT INTO `roles` (`id`, `name`, `guard_name`, `created_at`, `updated_at`) VALUES
	(1, 'Root', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(2, 'Gerente', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(3, 'Administrador', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(4, 'Cajero', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(5, 'Mesero', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(6, 'Invitado', 'web', '2022-01-31 09:28:43', '2022-01-31 09:28:43'),
	(7, 'Pantalla', 'web', '2022-01-31 10:32:52', '2022-01-31 10:32:52');


CREATE TABLE IF NOT EXISTS `role_has_permissions` (
  `permission_id` bigint(20) unsigned NOT NULL,
  `role_id` bigint(20) unsigned NOT NULL,
  PRIMARY KEY (`permission_id`,`role_id`),
  KEY `role_has_permissions_role_id_foreign` (`role_id`),
  CONSTRAINT `role_has_permissions_permission_id_foreign` FOREIGN KEY (`permission_id`) REFERENCES `permissions` (`id`) ON DELETE CASCADE,
  CONSTRAINT `role_has_permissions_role_id_foreign` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;


DELETE FROM `role_has_permissions`;

INSERT INTO `role_has_permissions` (`permission_id`, `role_id`) VALUES
	(1, 1),
	(2, 1),
	(3, 1),
	(4, 1),
	(5, 1),
	(6, 1),
	(7, 1),
	(8, 1),
	(9, 1),
	(10, 1),
	(11, 1),
	(12, 1),
	(13, 1),
	(14, 1),
	(15, 1),
	(16, 1),
	(17, 1),
	(18, 1),
	(19, 1),
	(20, 1),
	(21, 1),
	(22, 1),
	(23, 1),
	(24, 1),
	(25, 1),
	(26, 1),
	(27, 1),
	(28, 1),
	(29, 1),
	(30, 1),
	(31, 1),
	(32, 1),
	(33, 1),
	(34, 1),
	(35, 1),
	(36, 1),
	(37, 1),
	(38, 1),
	(39, 1),
	(40, 1),
	(41, 1),
	(42, 1),
	(43, 1),
	(1, 2),
	(2, 2),
	(3, 2),
	(4, 2),
	(5, 2),
	(6, 2),
	(7, 2),
	(8, 2),
	(9, 2),
	(10, 2),
	(11, 2),
	(12, 2),
	(13, 2),
	(14, 2),
	(15, 2),
	(16, 2),
	(17, 2),
	(18, 2),
	(19, 2),
	(20, 2),
	(21, 2),
	(22, 2),
	(23, 2),
	(24, 2),
	(25, 2),
	(26, 2),
	(27, 2),
	(28, 2),
	(29, 2),
	(30, 2),
	(31, 2),
	(32, 2),
	(33, 2),
	(34, 2),
	(35, 2),
	(36, 2),
	(37, 2),
	(38, 2),
	(39, 2),
	(40, 2),
	(41, 2),
	(43, 2),
	(1, 3),
	(2, 3),
	(3, 3),
	(4, 3),
	(5, 3),
	(6, 3),
	(7, 3),
	(8, 3),
	(9, 3),
	(10, 3),
	(11, 3),
	(12, 3),
	(13, 3),
	(14, 3),
	(15, 3),
	(16, 3),
	(17, 3),
	(18, 3),
	(19, 3),
	(27, 3),
	(28, 3),
	(29, 3),
	(30, 3),
	(31, 3),
	(32, 3),
	(35, 3),
	(36, 3),
	(37, 3),
	(38, 3),
	(39, 3),
	(40, 3),
	(41, 3),
	(1, 4),
	(2, 4),
	(3, 4),
	(4, 4),
	(5, 4),
	(6, 4),
	(7, 4),
	(8, 4),
	(13, 4),
	(16, 4),
	(17, 4),
	(18, 4),
	(28, 4),
	(29, 4),
	(30, 4),
	(31, 4),
	(35, 4),
	(39, 4),
	(40, 4),
	(41, 4),
	(1, 5),
	(2, 5),
	(3, 5),
	(4, 5),
	(5, 5),
	(6, 5),
	(7, 5),
	(8, 5),
	(13, 5),
	(16, 5),
	(17, 5),
	(18, 5),
	(28, 5),
	(29, 5),
	(30, 5),
	(31, 5),
	(35, 5),
	(39, 5),
	(40, 5),
	(41, 5),
	(39, 6),
	(40, 6),
	(41, 6);

